Note: Haven't managed to generate FSM diagram using the attached Yosys script
but terosHDL is capable of generating the diagram. Note, it doesn't support the
conditional operator `?` and requires the use of `begin` and `end` enclosing an
`always_comb` process block.

![FSM](my_fsm.svg)


